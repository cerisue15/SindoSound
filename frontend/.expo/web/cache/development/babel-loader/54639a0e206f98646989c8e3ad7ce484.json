{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/cerigoff/instagram_redesign_release_v1/frontend/components/auth/Register.js\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { form, container } from \"../styles\";\nimport firebase from 'firebase';\n\nrequire('firebase/firestore');\n\nexport default function Register(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      username = _useState8[0],\n      setUsername = _useState8[1];\n\n  var onRegister = function onRegister() {\n    firebase.firestore().collection('users').where('username', '==', username).get().then(function (snapshot) {\n      if (!snapshot.exist) {\n        firebase.auth().createUserWithEmailAndPassword(email, password).then(function () {\n          if (snapshot.exist) {\n            return;\n          }\n\n          firebase.firestore().collection(\"users\").doc(firebase.auth().currentUser.uid).set({\n            name: name,\n            email: email,\n            username: username,\n            image: 'default',\n            followingCount: 0,\n            followersCount: 0\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return React.createElement(View, {\n    style: container.center,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: container.formCenter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: form.textInput,\n    placeholder: \"username\",\n    onChangeText: function onChangeText(username) {\n      return setUsername(username);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: form.textInput,\n    placeholder: \"name\",\n    onChangeText: function onChangeText(name) {\n      return setName(name);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: form.textInput,\n    placeholder: \"email\",\n    onChangeText: function onChangeText(email) {\n      return setEmail(email);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: form.textInput,\n    placeholder: \"password\",\n    secureTextEntry: true,\n    onChangeText: function onChangeText(password) {\n      return setPassword(password);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), React.createElement(Button, {\n    style: form.button,\n    onPress: function onPress() {\n      return onRegister();\n    },\n    title: \"Register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: form.bottomButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Login\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"Already have an account? SignIn.\")));\n}","map":{"version":3,"sources":["/Users/cerigoff/instagram_redesign_release_v1/frontend/components/auth/Register.js"],"names":["React","useState","useEffect","form","container","firebase","require","Register","props","email","setEmail","password","setPassword","name","setName","username","setUsername","onRegister","firestore","collection","where","get","then","snapshot","exist","auth","createUserWithEmailAndPassword","doc","currentUser","uid","set","image","followingCount","followersCount","catch","error","console","log","center","formCenter","textInput","button","bottomButton","navigation","navigate"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { View, Button, TextInput, Text } from 'react-native'\nimport { form, container } from '../styles'\n\n\nimport firebase from 'firebase'\nrequire('firebase/firestore');\n\nexport default function Register(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [name, setName] = useState('');\n    const [username, setUsername] = useState('');\n\n    const onRegister = () => {\n        firebase.firestore()\n            .collection('users')\n            .where('username', '==', username)\n            .get()\n            .then((snapshot) => {\n\n                if (!snapshot.exist) {\n                    firebase.auth().createUserWithEmailAndPassword(email, password)\n                        .then(() => {\n                            if (snapshot.exist) {\n                                return\n                            }\n                            firebase.firestore().collection(\"users\")\n                                .doc(firebase.auth().currentUser.uid)\n                                .set({\n                                    name,\n                                    email,\n                                    username,\n                                    image: 'default',\n                                    followingCount: 0,\n                                    followersCount: 0,\n\n                                })\n                        })\n                        .catch((error) => {\n                            console.log(error)\n                        })\n                }\n            }).catch((error) => {\n                console.log(error)\n            })\n\n    }\n\n    return (\n        <View style={container.center}>\n            <View style={container.formCenter}>\n                <TextInput\n                    style={form.textInput}\n                    placeholder=\"username\"\n                    onChangeText={(username) => setUsername(username)}\n                />\n                <TextInput\n                    style={form.textInput}\n                    placeholder=\"name\"\n                    onChangeText={(name) => setName(name)}\n                />\n                <TextInput\n                    style={form.textInput}\n                    placeholder=\"email\"\n                    onChangeText={(email) => setEmail(email)}\n                />\n                <TextInput\n                    style={form.textInput}\n                    placeholder=\"password\"\n                    secureTextEntry={true}\n                    onChangeText={(password) => setPassword(password)}\n                />\n\n                <Button\n                    style={form.button}\n                    onPress={() => onRegister()}\n                    title=\"Register\"\n                />\n            </View>\n\n            <View style={form.bottomButton} >\n                <Text\n                    onPress={() => props.navigation.navigate(\"Login\")} >\n                    Already have an account? SignIn.\n                </Text>\n            </View>\n        </View>\n\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}