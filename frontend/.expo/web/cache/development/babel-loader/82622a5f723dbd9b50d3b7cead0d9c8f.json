{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/cerigoff/instagram_redesign_release_v1/frontend/components/main/Search.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport firebase from 'firebase';\n\nrequire('firebase/firestore');\n\nimport { navbar, utils, text, container } from \"../styles\";\nexport default function Search(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var fetchUsers = function fetchUsers(search) {\n    firebase.firestore().collection('users').where('username', '>=', search).get().then(function (snapshot) {\n      var users = snapshot.docs.map(function (doc) {\n        var data = doc.data();\n        var id = doc.id;\n        return _objectSpread({\n          id: id\n        }, data);\n      });\n      setUsers(users);\n    });\n  };\n\n  return React.createElement(View, {\n    style: [utils.backgroundWhite, container.container],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: navbar.custom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: utils.searchBar,\n    placeholder: \"Type Here...\",\n    onChangeText: function onChangeText(search) {\n      return fetchUsers(search);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  })), React.createElement(FlatList, {\n    numColumns: 1,\n    horizontal: false,\n    data: users,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        style: [container.horizontal, utils.padding10Sides, utils.padding10Top],\n        onPress: function onPress() {\n          return props.navigation.navigate(\"Profile\", {\n            uid: item.id\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }\n      }, item.image == 'default' ? React.createElement(FontAwesome5, {\n        style: [utils.profileImage, utils.marginBottomSmall],\n        name: \"user-circle\",\n        size: 50,\n        color: \"black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 33\n        }\n      }) : React.createElement(Image, {\n        style: [utils.profileImage, utils.marginBottomSmall],\n        source: {\n          uri: item.image\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 33\n        }\n      }), React.createElement(View, {\n        style: utils.justifyCenter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: text.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }\n      }, item.username), React.createElement(Text, {\n        style: text.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      }, item.name)));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/cerigoff/instagram_redesign_release_v1/frontend/components/main/Search.js"],"names":["React","useState","FontAwesome5","firebase","require","navbar","utils","text","container","Search","props","users","setUsers","fetchUsers","search","firestore","collection","where","get","then","snapshot","docs","map","doc","data","id","backgroundWhite","custom","searchBar","item","horizontal","padding10Sides","padding10Top","navigation","navigate","uid","image","profileImage","marginBottomSmall","uri","justifyCenter","username","name"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { View, Text, TextInput, FlatList, TouchableOpacity, Image } from 'react-native'\nimport { FontAwesome5 } from '@expo/vector-icons';\n\nimport firebase from 'firebase';\nrequire('firebase/firestore');\n\nimport { navbar, utils, text, container } from '../styles'\n\nexport default function Search(props) {\n    const [users, setUsers] = useState([])\n\n    const fetchUsers = (search) => {\n        firebase.firestore()\n            .collection('users')\n            .where('username', '>=', search)\n            .get()\n            .then((snapshot) => {\n                let users = snapshot.docs.map(doc => {\n                    const data = doc.data();\n                    const id = doc.id;\n                    return { id, ...data }\n                });\n                setUsers(users);\n            })\n    }\n    return (\n        <View style={[utils.backgroundWhite, container.container]}>\n            <View style={navbar.custom}>\n                <TextInput\n                    style={utils.searchBar}\n                    placeholder=\"Type Here...\"\n                    onChangeText={(search) => fetchUsers(search)} />\n            </View>\n\n\n            <FlatList\n                numColumns={1}\n                horizontal={false}\n                data={users}\n                renderItem={({ item }) => (\n                    <TouchableOpacity\n                        style={[container.horizontal, utils.padding10Sides, utils.padding10Top]}\n                        onPress={() => props.navigation.navigate(\"Profile\", { uid: item.id })}>\n\n                        {item.image == 'default' ?\n                            (\n                                <FontAwesome5\n                                    style={[utils.profileImage, utils.marginBottomSmall]}\n                                    name=\"user-circle\" size={50} color=\"black\" />\n\n                            )\n                            :\n                            (\n                                <Image\n                                    style={[utils.profileImage, utils.marginBottomSmall]}\n                                    source={{\n                                        uri: item.image\n                                    }}\n                                />\n                            )\n                        }\n                        <View style={utils.justifyCenter}>\n                            <Text style={text.username}>{item.username}</Text>\n                            <Text style={text.name} >{item.name}</Text>\n                        </View>\n                    </TouchableOpacity>\n\n                )}\n            />\n        </View>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}